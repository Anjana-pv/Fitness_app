import 'package:flutter/material.dart';
import 'package:hive/hive.dart';
import 'package:workout/models/workout_model.dart';

ValueNotifier<List<PersonalDetails>>personalListNotifier = ValueNotifier([]);

Future<void> addpersonalDetails( value) async {
  final personalDB = await Hive.openBox<PersonalDetails>('personal_db');
 personalDB .put(value.id, value);
  getallpersonalDetails();
}

Future<void> getallpersonalDetails() async {
  final personalDB = await Hive.openBox<PersonalDetails>('personal_db');
  personalListNotifier.value.clear();
  personalListNotifier.value.addAll(personalDB.values); 
  personalListNotifier.value.add(personalDB.values);
  personalListNotifier.notifyListeners(); 
}

Future<void> deleteDetail(int id) async {
  final personalDB = await Hive.openBox<PersonalDetails>('personal_db');

  await personalDB.deleteAt(id);

  getallpersonalDetails();
}

Future<void> updateList(int id, PersonalDetails value) async {
  final personalDB = await Hive.openBox<PersonalDetails>('personal_db');
  personalDB.putAt(id, value);
  getallpersonalDetails();
}
